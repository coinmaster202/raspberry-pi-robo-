<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Secure Motion Assistant</title>
  <style>
    body {
      background: #000;
      color: lime;
      font-family: monospace;
      padding: 20px;
    }
    #console {
      background: #111;
      padding: 15px;
      min-height: 300px;
      border-radius: 10px;
      white-space: pre-wrap;
    }
    input, button {
      margin-top: 10px;
      padding: 10px;
      font-size: 16px;
    }
    #overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(255,0,0,0.8);
      z-index: 999;
      animation: flash 0.6s infinite alternate;
    }
    @keyframes flash {
      from { background-color: rgba(255,0,0,0.6); }
      to   { background-color: rgba(255,0,0,1); }
    }
  </style>
</head>
<body>
  <h1>üîê Secure Motion Assistant</h1>
  <button onclick="startInteraction()">üëã Simulate Motion Detected</button>
  <div id="console"></div>  <div id="input-area" style="display:none;">
    <input id="user-input" placeholder="Type your response..." />
    <button onclick="handleInput()">Submit</button>
  </div>  <div id="overlay"></div>
  <a id="log-download" style="display:none;"></a>  <script>
    let availableOptions = ["1", "2", "3", "4", "5"];

    async function speak(text) {
      consoleEl.innerHTML += `ü§ñ: ${text}\n`;
      consoleEl.scrollTop = consoleEl.scrollHeight;
      return new Promise(resolve => {
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'en-US';
        utterance.rate = 1;
        utterance.onend = resolve;
        speechSynthesis.speak(utterance);
      });
    }

    async function showMenu() {
      const remaining = availableOptions.filter(opt => !asked.has(opt));
      if (remaining.length === 0) {
        await speak("You've completed all options. Restarting in 5 seconds...");
        setTimeout(startInteraction, 5000);
        return;
      }
      await speak("Please choose one of the following options:");
      for (const opt of remaining) {
        if (opt === "1") await speak("1. What is your name?");
        if (opt === "2") await speak("2. How are you?");
        if (opt === "3") await speak("3. Try a math trick");
        if (opt === "4") await speak("4. Exit");
        if (opt === "5") await speak("5. Ask anything (ChatGPT mode)");
      }
      listen("menu");
    }
  </script></body>
</html>